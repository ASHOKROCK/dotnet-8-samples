<Project Sdk="Microsoft.NET.Sdk.Web">
  <PropertyGroup>
    <NoWarn>$(NoWarn);CA1050</NoWarn>
    <TargetFramework>net8.0</TargetFramework>
  </PropertyGroup>
  <!-- Enable the new source generators -->
  <PropertyGroup>
    <EnableConfigurationBindingGenerator>true</EnableConfigurationBindingGenerator>
    <EnableRequestDelegateGenerator>true</EnableRequestDelegateGenerator>
  </PropertyGroup>
  <!-- Add support for Ahead-of-Time (AoT) compilation -->
  <PropertyGroup Condition="!$([System.OperatingSystem]::IsMacOS())">
    <InvariantGlobalization>true</InvariantGlobalization>
    <!-- HACK Suppress IL warnings from Microsoft.Extensions.Http.Resilience until 8.0.0 -->
    <NoWarn>$(NoWarn);IL2026;IL2104</NoWarn>
    <PublishAot>true</PublishAot>
  </PropertyGroup>
  <ItemGroup>
    <PackageReference Include="Microsoft.Extensions.Http.Resilience" />
    <PackageReference Include="Polly.Core" />
    <PackageReference Include="Polly.Extensions" />
    <PackageReference Include="Polly.RateLimiting" />
  </ItemGroup>
</Project>
